{"version":3,"file":"main.js","sources":["webpack:///src/main.js","webpack:///src/router.js","webpack:///./src/components/login/Login.vue","webpack:///./src/components/login/Login.vue?733d","webpack:///./src/components/login/Login.vue?fac7","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///Login.vue","webpack:///src/store/account/actions.js","webpack:///src/api/account.js","webpack:///src/store/mutation-types.js","webpack:///./src/components/login/Login.vue?91bd","webpack:///./src/components/login/Register.vue","webpack:///./src/components/login/Register.vue?7034","webpack:///./src/components/login/Register.vue?8a73","webpack:///Register.vue","webpack:///./src/components/login/Register.vue?4bda","webpack:///./src/components/friend/Friend.vue","webpack:///Friend.vue","webpack:///src/store/friend/actions.js","webpack:///src/api/friend.js","webpack:///src/store/message/actions.js","webpack:///src/api/message.js","webpack:///./src/components/friend/Friend.vue?211c","webpack:///./src/components/message/Message.vue","webpack:///Message.vue","webpack:///./src/components/message/Message.vue?f4c7","webpack:///src/store/store.js","webpack:///src/store/account/store.js","webpack:///./~/babel-runtime/helpers/defineProperty.js","webpack:///./~/babel-runtime/core-js/object/define-property.js","webpack:///./~/babel-runtime/~/core-js/library/fn/object/define-property.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.js","webpack:///src/store/friend/store.js","webpack:///src/store/message/store.js","webpack:///./src/components/Home.vue","webpack:///./src/components/Home.vue?0f80","webpack:///./src/components/Home.vue?f844","webpack:///Home.vue","webpack:///./src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?899f","webpack:///./src/components/Navbar.vue?d6e3","webpack:///Navbar.vue","webpack:///./src/components/Navbar.vue?d2d8","webpack:///./src/components/Home.vue?381f"],"sourcesContent":["import router from './router'\nimport store from './store/store'\nimport { sync } from 'vuex-router-sync'\nsync(store, router)\n\nimport Vue from 'vue'\nimport VueResource from 'vue-resource'\nVue.use(VueResource)\n\nimport Home from './components/Home'\nrouter.start(Home, '#app')\n\n\n\n\n// WEBPACK FOOTER //\n// src/main.js","import Vue from 'vue';\nimport VueRouter from 'vue-router';\n\nVue.use(VueRouter);\nvar router = new VueRouter({\n  history: false\n});\n\nrouter.map({\n\n  '/':{\n    name:'landing',\n    component:require(\"./components/login/Login\"),\n  },\n\n  '/register':{\n    name:'register',\n    component:require(\"./components/login/Register\"),\n  },\n\n  '/friend':{\n    name:'friend',\n    component:require(\"./components/friend/Friend\"),\n  },\n\n  '/message':{\n    name:'message',\n    component:require(\"./components/message/Message\")\n  },\n\n});\n\nrouter.redirect({\n    '*':\"/\",\n});\n\nexport default router;\n\n\n\n\n// WEBPACK FOOTER //\n// src/router.js","var __vue_script__, __vue_template__\nrequire(\"-!style!css!../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-7980dd8e&file=Login.vue!autoprefixer!../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\")\n__vue_script__ = require(\"-!babel-loader!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./Login.vue\")\n__vue_template__ = require(\"-!vue-html-loader!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./Login.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) { (typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __vue_template__ }\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/jacksome/Projects/direct-message/landing/templates/src/components/login/Login.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, __vue_template__)\n  }\n})()}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/Login.vue\n// module id = 5\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-7980dd8e&file=Login.vue!../../../node_modules/autoprefixer-loader/index.js!../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-7980dd8e&file=Login.vue!../../../node_modules/autoprefixer-loader/index.js!../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-7980dd8e&file=Login.vue!../../../node_modules/autoprefixer-loader/index.js!../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader!./~/css-loader!./~/vue-loader/lib/style-rewriter.js?id=_v-7980dd8e&file=Login.vue!./~/autoprefixer-loader!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/login/Login.vue\n// module id = 6\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvY29tcG9uZW50cy9sb2dpbi9Mb2dpbi52dWUifQ== */\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/vue-loader/lib/style-rewriter.js?id=_v-7980dd8e&file=Login.vue!./~/autoprefixer-loader!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/login/Login.vue\n// module id = 7\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 8\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0;\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction createStyleElement() {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tvar head = getHeadElement();\r\n\tstyleElement.type = \"text/css\";\r\n\thead.appendChild(styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement() {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tvar head = getHeadElement();\r\n\tlinkElement.rel = \"stylesheet\";\r\n\thead.appendChild(linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement());\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement();\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement();\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 9\n// module chunks = 0","<template>\n\n<div class=\"container col-sm-3 col-sm-offset-4\">\n\n  <form class=\"form-signin\" @submit.prevent=\"accountLogin()\">\n    <h2 class=\"form-signin-heading\">Login <small>登录</small></h2>\n    <label for=\"inputEmail\" class=\"sr-only\">Email</label>\n    <input type=\"email\" class=\"form-control\" placeholder=\"Email\" maxLength=\"255\" required=\"\" autofocus=\"\" v-model=\"inputEmail\">\n    <label for=\"inputPassword\" class=\"sr-only\">Password</label>\n    <input type=\"password\" class=\"form-control\" placeholder=\"Password\" required=\"\" v-model=\"inputPassword\">\n    <p class=\"bg-danger\" v-show=\"reason != 'OK'\">{{ reason }}</p>\n    <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">登录</button>\n    <a v-link=\"{path: '/register'}\" class=\"btn btn-link active\">没有帐号，免费注册</a>\n  </form>\n\n</div>\n\n</template>\n\n<script>\n  import router from '../../router'\n  import { login } from '../../store/account/actions'\n\n  export default {\n\n    data() {\n      return {\n        inputEmail: \"\",\n        inputPassword: \"\",\n        reason: \"\",\n      };\n    },\n\n    vuex: {\n      getters: {\n      },\n\n      actions: {\n        accountLogin({ dispatch }) {\n          login({ dispatch },\n            this.inputEmail, this.inputPassword,\n            (reason) => {\n              this.reason = reason\n              if (this.reason == 'OK') {\n                router.go({ name: 'friend' })\n              }\n            })\n        },\n\n      },\n    },\n\n  }\n</script>\n\n<style>\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// Login.vue?1b85e8a9","import account from '../../api/account'\nimport * as types from '../mutation-types'\n\n\nexport const login = ({ dispatch }, username, password, cb) => {\n  account.login(\n    username, password,\n    (data, reason) => {\n      dispatch(types.LOGIN, data)\n      cb(reason)\n    },\n    (reason) => cb(reason)\n  )\n}\n\nexport const auth = ({ dispatch }, cb, errorCb) => {\n  account.auth(\n    (data) => {\n      dispatch(types.LOGIN, data)\n      cb()\n    },\n    (reason) => errorCb()\n  )\n}\n\nexport const register = ({ dispatch }, username, password, cb) => {\n  account.register(\n    username, password,\n    (data, reason) => {\n      dispatch(types.LOGIN, data);\n      cb(reason);\n    },\n    (reason) => { cb(reason) }\n  )\n}\n\nexport const logout = ({ dispatch }) => {\n  console.log(\"logout\")\n  account.logout(() => dispatch(types.LOGOUT))\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/store/account/actions.js","import Vue from 'vue';\nimport router from '../router';\n\n\nconst _publicKey = \"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC+OUp1Acivh/N4n+mAbdhVT68IBdet6q8PuIMq8XBLrhBMYm9axnDMtS77b7t+nlJsVW14G0NwQ5BOyML/L75QsbuScLJsKuVWXm+VGj0xp6avKbcQqA/yVhtr0p7henD2q8OI6WQTDsvb9dLuZtar89qE6+W4Rpnj6NSfn7pLZQIDAQAB\";\n\n\nexport default {\n\n  generateSalt() {\n    var salt = \"\";\n    var possible=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (var i = 0; i < 32; i++) {\n      salt += possible.charAt(Math.floor(Math.random()*possible.length));\n    }\n    return salt;\n  },\n\n  encrypt(password) {\n    // md5(password) + salt\n    var passhash = md5(password);\n    var salt = this.generateSalt();\n    // console.log(salt);\n    var passjoin = salt.concat(passhash);\n\n    // Encrypt with the public key\n    var encryptor = new JSEncrypt();\n    encryptor.setPublicKey(_publicKey);\n    var passencrypt = encryptor.encrypt(passjoin);\n    return passencrypt;\n  },\n\n  login(username, password, cb, errorCb) {\n    var passencrypt = this.encrypt(password);\n\n    // POST\n    Vue.http.options.emulateJSON = true;\n    Vue.http.post('/login/', {\n      username: username,\n      password: passencrypt}).then((response) => {\n        console.log(response);\n        var res = response.json();\n        if (response.status == 200 && res['ret'] == 0) {\n          // 登录成功\n          cb(res.data, res.reason);\n        } else {\n          errorCb(res.reason);\n        }\n      }, (response) => {\n        // error callback\n        errorCb('timeout');\n      });\n  },\n\n  auth(cb, errorCb) {\n    // POST\n    Vue.http.options.emulateJSON = true;\n    Vue.http.post('/auth/', {}).then((response) => {\n        console.log(response);\n        var res = response.json();\n        if (response.status == 200 && res['ret'] == 0) {\n          // 登录成功\n          cb(res.data, res.reason);\n        } else {\n          errorCb(res.reason);\n        }\n      }, (response) => {\n        // error callback\n        errorCb('timeout');\n      });\n  },\n\n  register(username, password, cb, errorCb) {\n    var passencrypt = this.encrypt(password);\n\n    // POST\n    Vue.http.options.emulateJSON = true;\n    Vue.http.post('/register/', {\n      username: username,\n      password: passencrypt}).then((response) => {\n        console.log(response);\n        var res = response.json();\n        if (response.status == 200 && res['ret'] == 0) {\n          // 登录成功\n          cb(res.data, res.reason);\n        } else {\n          errorCb(res.reason);\n        }\n      }, (response) => {\n        // error callback\n        errorCb('timeout');\n      });\n  },\n\n  logout(cb) {\n    Vue.http.get('/logout/').then((response) => {\n      console.log(response);\n      var res = response.json();\n      if (response.status == 200 && res['ret'] == 0) {\n        cb();\n      } else {\n      }\n    }, (response) => {\n      // error callback\n    });\n  },\n\n};\n\n\n\n\n// WEBPACK FOOTER //\n// src/api/account.js","export const LOGIN = 'LOGIN';\nexport const LOGOUT = 'LOGOUT';\n\nexport const GET_FRIEND = 'GET_FRIEND';\nexport const ADD_FRIEND = 'ADD_FRIEND';\nexport const DEL_FRIEND = 'DEL_FRIEND';\nexport const MOD_FRIEND = 'MOD_FRIEND';\n\nexport const GET_MESSAGE = 'GET_MESSAGE';\nexport const ADD_MESSAGE = 'ADD_MESSAGE';\nexport const ADD_MULTI_MESSAGE = 'ADD_MULTI_MESSAGE';\nexport const DEL_MESSAGE = 'DEL_MESSAGE';\n\n\n\n\n// WEBPACK FOOTER //\n// src/store/mutation-types.js","module.exports = \"\\n\\n<div class=\\\"container col-sm-3 col-sm-offset-4\\\">\\n\\n  <form class=\\\"form-signin\\\" @submit.prevent=\\\"accountLogin()\\\">\\n    <h2 class=\\\"form-signin-heading\\\">Login <small>登录</small></h2>\\n    <label for=\\\"inputEmail\\\" class=\\\"sr-only\\\">Email</label>\\n    <input type=\\\"email\\\" class=\\\"form-control\\\" placeholder=\\\"Email\\\" maxLength=\\\"255\\\" required=\\\"\\\" autofocus=\\\"\\\" v-model=\\\"inputEmail\\\">\\n    <label for=\\\"inputPassword\\\" class=\\\"sr-only\\\">Password</label>\\n    <input type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"Password\\\" required=\\\"\\\" v-model=\\\"inputPassword\\\">\\n    <p class=\\\"bg-danger\\\" v-show=\\\"reason != 'OK'\\\">{{ reason }}</p>\\n    <button class=\\\"btn btn-lg btn-primary btn-block\\\" type=\\\"submit\\\">登录</button>\\n    <a v-link=\\\"{path: '/register'}\\\" class=\\\"btn btn-link active\\\">没有帐号，免费注册</a>\\n  </form>\\n\\n</div>\\n\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/login/Login.vue\n// module id = 14\n// module chunks = 0","var __vue_script__, __vue_template__\nrequire(\"-!style!css!../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-3987a88e&file=Register.vue!autoprefixer!../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Register.vue\")\n__vue_script__ = require(\"-!babel-loader!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./Register.vue\")\n__vue_template__ = require(\"-!vue-html-loader!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./Register.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) { (typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __vue_template__ }\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/jacksome/Projects/direct-message/landing/templates/src/components/login/Register.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, __vue_template__)\n  }\n})()}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/Register.vue\n// module id = 15\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-3987a88e&file=Register.vue!../../../node_modules/autoprefixer-loader/index.js!../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Register.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-3987a88e&file=Register.vue!../../../node_modules/autoprefixer-loader/index.js!../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Register.vue\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-3987a88e&file=Register.vue!../../../node_modules/autoprefixer-loader/index.js!../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Register.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader!./~/css-loader!./~/vue-loader/lib/style-rewriter.js?id=_v-3987a88e&file=Register.vue!./~/autoprefixer-loader!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/login/Register.vue\n// module id = 16\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvY29tcG9uZW50cy9sb2dpbi9SZWdpc3Rlci52dWUifQ== */\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/vue-loader/lib/style-rewriter.js?id=_v-3987a88e&file=Register.vue!./~/autoprefixer-loader!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/login/Register.vue\n// module id = 17\n// module chunks = 0","<template>\n\n<div class=\"container col-sm-3 col-sm-offset-4\">\n\n  <form class=\"form-signin\" @submit.prevent=\"accountRegister()\">\n    <h2 class=\"form-signin-heading\">Sign up <small>注册</small></h2>\n    <label for=\"inputEmail\" class=\"sr-only\">Email</label>\n    <input type=\"email\" class=\"form-control\" placeholder=\"Email\" maxLength=\"255\" required=\"\" autofocus=\"\" v-model=\"inputEmail\">\n    <label for=\"inputPassword\" class=\"sr-only\">Password</label>\n    <input type=\"password\" class=\"form-control\" placeholder=\"Password\" required=\"\" v-model=\"inputPassword\">\n    <label for=\"inputPasswordConfirm\" class=\"sr-only\">Password</label>\n    <input type=\"password\" class=\"form-control\" placeholder=\"Password Again\" required=\"\" v-model=\"inputPasswordConfirm\">\n    <p class=\"bg-danger\" v-show=\"reason != 'OK'\">{{ reason }}</p>\n    <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">注册</button>\n    <a v-link=\"{path: '/'}\" class=\"btn btn-link active\">已有帐号，直接登录</a>\n  </form>\n\n</div>\n\n</template>\n\n<script>\n  import router from '../../router'\n  import { register } from '../../store/account/actions'\n\n  export default {\n\n    data() {\n      return {\n        inputEmail: \"\",\n        inputPassword: \"\",\n        inputPasswordConfirm: \"\",\n        reason: \"\",\n      };\n    },\n\n    vuex: {\n      getters: {\n        account: ({ user }) => user.account,\n      },\n\n      actions: {\n        register,\n\n        accountRegister({ dispatch }) {\n          if (this.inputPassword != this.inputPasswordConfirm) {\n            this.reason = \"The two passwords differ\"\n            return;\n          }\n\n          register({ dispatch },\n            this.inputEmail, this.inputPassword,\n            (reason) => {\n              this.reason = reason;\n              console.log(this.reason);\n              if (this.reason == 'OK') {\n                router.go({ name: 'friend' });\n              }\n            })\n        },\n\n      },\n    },\n\n    ready () {\n    },\n  }\n</script>\n\n<style>\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// Register.vue?0f867242","module.exports = \"\\n\\n<div class=\\\"container col-sm-3 col-sm-offset-4\\\">\\n\\n  <form class=\\\"form-signin\\\" @submit.prevent=\\\"accountRegister()\\\">\\n    <h2 class=\\\"form-signin-heading\\\">Sign up <small>注册</small></h2>\\n    <label for=\\\"inputEmail\\\" class=\\\"sr-only\\\">Email</label>\\n    <input type=\\\"email\\\" class=\\\"form-control\\\" placeholder=\\\"Email\\\" maxLength=\\\"255\\\" required=\\\"\\\" autofocus=\\\"\\\" v-model=\\\"inputEmail\\\">\\n    <label for=\\\"inputPassword\\\" class=\\\"sr-only\\\">Password</label>\\n    <input type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"Password\\\" required=\\\"\\\" v-model=\\\"inputPassword\\\">\\n    <label for=\\\"inputPasswordConfirm\\\" class=\\\"sr-only\\\">Password</label>\\n    <input type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"Password Again\\\" required=\\\"\\\" v-model=\\\"inputPasswordConfirm\\\">\\n    <p class=\\\"bg-danger\\\" v-show=\\\"reason != 'OK'\\\">{{ reason }}</p>\\n    <button class=\\\"btn btn-lg btn-primary btn-block\\\" type=\\\"submit\\\">注册</button>\\n    <a v-link=\\\"{path: '/'}\\\" class=\\\"btn btn-link active\\\">已有帐号，直接登录</a>\\n  </form>\\n\\n</div>\\n\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/login/Register.vue\n// module id = 19\n// module chunks = 0","var __vue_script__, __vue_template__\n__vue_script__ = require(\"-!babel-loader!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./Friend.vue\")\n__vue_template__ = require(\"-!vue-html-loader!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./Friend.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) { (typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __vue_template__ }\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/jacksome/Projects/direct-message/landing/templates/src/components/friend/Friend.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, __vue_template__)\n  }\n})()}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/friend/Friend.vue\n// module id = 20\n// module chunks = 0","<template>\n\n<h1 class=\"page-header\">联系人</h1>\n\n<div class=\"panel panel-default\">\n  <div class=\"panel-heading\">添加联系人</div>\n  <div class=\"panel-body\">\n    <form class=\"form-signin\" @submit.prevent=\"addNewFriend(inputEmail)\">\n      <label for=\"inputEmail\" class=\"col-sm-2 sr-only\">Email</label>\n      <input type=\"email\" class=\"form-control\" placeholder=\"Email\" maxLength=\"255\" required=\"\" v-model=\"inputEmail\">\n      <p class=\"bg-danger\" v-show=\"reason != 'OK'\">{{ reason }}</p>\n      <button class=\"btn btn-sm btn-success\" :disabled=\"!inputEmail || inputEmail == ''\" type=\"submit\">添加</button>\n    </form>\n  </div>\n</div>\n\n<div class=\"panel panel-default\">\n  <div class=\"panel-heading\">现有联系人</div>\n\n  <table class=\"table table-striped\">\n    <thead>\n      <tr>\n        <th>Email</th>\n        <th>未读消息数</th>\n        <th>查看消息</th>\n        <th>删除联系人</th>\n      </tr>\n    </thead>\n\n    <tbody>\n      <tr v-for=\"f in friends\">\n        <td>{{ f.friend_name }}</td>\n        <td>{{ f.unread_msg_num }}</td>\n        <td><button class=\"btn btn-sm btn-info\" v-on:click=\"readMessage(f)\">查看</button></td>\n        <td><button class=\"btn btn-sm btn-danger\" v-on:click=\"deleteOldFriend(f)\">删除</button></td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n\n</template>\n\n<script>\n  import router from '../../router'\n  import { getAllFriends, addFriend, delFriend, getFriendsChanged } from '../../store/friend/actions'\n  import { getAllMessages } from '../../store/message/actions'\n\n  export default {\n\n    data() {\n      return {\n        inputEmail: null,\n        reason: \"\",\n      };\n    },\n\n    vuex: {\n      getters: {\n        friends: ({ friend }) => friend.all,\n        last_ts: ({ friend }) => friend.last_ts,\n      },\n\n      actions: {\n        getAllFriends,\n        getFriendsChanged,\n        addFriend,\n        delFriend,\n\n        addNewFriend({ dispatch }, name) {\n          this.reason = \"\";\n          addFriend({ dispatch }, name, (ret) => {\n              this.reason = ret;\n              this.inputEmail = null;\n          });\n        },\n\n        deleteOldFriend({ dispatch }, f) {\n          delFriend({ dispatch }, f, () => {});\n        },\n\n        readMessage({ dispatch }, f) {\n          getAllMessages({ dispatch }, f, () => router.go({ name: 'message' }));\n        },\n      },\n    },\n\n    created() {\n      this.getAllFriends();\n    },\n\n    ready() {\n      this.interval_friends = setInterval(() => {\n          this.getFriendsChanged(this.last_ts);\n          }, 5000)\n    },\n\n    beforeDestroy() {\n      clearInterval(this.interval_friends);\n    },\n\n  }\n</script>\n\n\n\n\n\n// WEBPACK FOOTER //\n// Friend.vue?0de1b71a","import friend from '../../api/friend'\nimport * as types from '../mutation-types'\n\n\nexport const getAllFriends = ({ dispatch }) => {\n  friend.getAllFriends(\n    (data, reason) => { dispatch(types.GET_FRIEND, data),\n    (reason) => {}\n    })\n}\n\nexport const getFriendsChanged = ({ dispatch }, ts) => {\n  friend.getFriendsChanged(\n    ts,\n    (data, t, reason) => { dispatch(types.MOD_FRIEND, data, t),\n    (reason) => {}\n    })\n}\n\nexport const addFriend = ({ dispatch }, name, cb) => {\n  friend.addFriend(\n    name,\n    (data, reason) => {\n      dispatch(types.ADD_FRIEND, data)\n      cb(reason)\n    },\n    (reason) => cb(reason)\n  )\n}\n\nexport const delFriend = ({ dispatch }, f, cb) => {\n  friend.deleteFriend(\n    f.friend_name,\n    (data, reason) => {\n      dispatch(types.DEL_FRIEND, f)\n      cb(reason)\n    },\n    (reason) => cb(reason)\n  )\n}\n\n\n\n\n// WEBPACK FOOTER //\n// src/store/friend/actions.js","import Vue from 'vue';\nimport router from '../router';\n\n\nexport default {\n\n  getAllFriends(cb, errorCb) {\n    Vue.http.get('/friend/all/').then((response) => {\n        console.log(response);\n        var res = response.json();\n        if (response.status == 200 && res['ret'] == 0) {\n          cb(res.data, res.reason);\n        } else {\n          errorCb(res.reason);\n        }\n      }, (response) => {\n        errorCb('timeout');\n      });\n  },\n\n  getFriendsChanged(ts, cb, errorCb) {\n    Vue.http.get('/friend/changed/', {params : {'t': ts}}).then((response) => {\n        console.log(response);\n        var res = response.json();\n        if (response.status == 200 && res['ret'] == 0) {\n          cb(res.data, res.t, res.reason);\n        } else {\n          errorCb(res.reason);\n        }\n      }, (response) => {\n        errorCb('timeout');\n      });\n  },\n\n  addFriend(name, cb, errorCb) {\n    Vue.http.options.emulateJSON = true;\n    Vue.http.post('/friend/add/', {name: name}).then((response) => {\n        console.log(response);\n        var res = response.json();\n        if (response.status == 200 && res['ret'] == 0) {\n          cb(res.data, res.reason);\n        } else {\n          errorCb(res.reason);\n        }\n      }, (response) => {\n        errorCb('timeout');\n      });\n  },\n\n  deleteFriend(name, cb, errorCb) {\n    Vue.http.options.emulateJSON = true;\n    Vue.http.post('/friend/del/', {name: name}).then((response) => {\n        console.log(response);\n        var res = response.json();\n        if (response.status == 200 && res['ret'] == 0) {\n          cb(res.data, res.reason);\n        } else {\n          errorCb(res.reason);\n        }\n      }, (response) => {\n        errorCb('timeout');\n      });\n  },\n\n};\n\n\n\n\n// WEBPACK FOOTER //\n// src/api/friend.js","import message from '../../api/message'\nimport * as types from '../mutation-types'\n\n\nexport const getAllMessages = ({ dispatch }, f, cb) => {\n  message.getAllMessages(\n    f.friend_id,\n    (data) => {\n      dispatch(types.GET_MESSAGE, f, data);\n      cb();\n    },\n    () => {}\n  )\n}\n\nexport const getNewMessages = ({ dispatch }, f) => {\n  message.getNewMessages(\n    f.friend_id,\n    (data) => {\n      dispatch(types.ADD_MULTI_MESSAGE, data);\n    },\n    () => {}\n  )\n}\n\nexport const sendMessage = ({ dispatch }, fid, content, cb) => {\n  message.sendMessage(\n    fid, content,\n    (data, reason) => {\n      dispatch(types.ADD_MESSAGE, data)\n      cb(reason)\n    },\n    (reason) => cb(reason)\n  )\n}\n\nexport const delMessage = ({ dispatch }, m, cb) => {\n  message.delMessage(\n    m.id,\n    (data, reason) => {\n      dispatch(types.DEL_MESSAGE, m)\n      cb()\n    },\n    () => {}\n  )\n}\n\n\n\n\n// WEBPACK FOOTER //\n// src/store/message/actions.js","import Vue from 'vue';\nimport router from '../router';\n\n\nexport default {\n\n  getAllMessages(fid, cb, errorCb) {\n    Vue.http.get('/message/all/', {params : {'fid': fid}}).then((response) => {\n        console.log(response);\n        var res = response.json();\n        if (response.status == 200 && res['ret'] == 0) {\n          cb(res.data, res.reason);\n        } else {\n          errorCb(res.reason);\n        }\n      }, (response) => {\n        errorCb('timeout');\n      });\n  },\n\n  getNewMessages(fid, cb, errorCb) {\n    Vue.http.get('/message/new/', {params : {'fid': fid}}).then((response) => {\n        console.log(response);\n        var res = response.json();\n        if (response.status == 200 && res['ret'] == 0) {\n          cb(res.data, res.reason);\n        } else {\n          errorCb(res.reason);\n        }\n      }, (response) => {\n        errorCb('timeout');\n      });\n  },\n\n  sendMessage(fid, content, cb, errorCb) {\n    Vue.http.options.emulateJSON = true;\n    Vue.http.post('/message/send/', {\n      fid: fid, c: content}).then((response) => {\n        console.log(response);\n        var res = response.json();\n        if (response.status == 200 && res['ret'] == 0) {\n          cb(res.data, res.reason);\n        } else {\n          errorCb(res.reason);\n        }\n      }, (response) => {\n        errorCb('timeout');\n      });\n  },\n\n  delMessage(mid, cb, errorCb) {\n    Vue.http.options.emulateJSON = true;\n    Vue.http.post('/message/del/', {mid: mid}).then((response) => {\n        console.log(response);\n        var res = response.json();\n        if (response.status == 200 && res['ret'] == 0) {\n          cb(res.data, res.reason);\n        } else {\n          errorCb(res.reason);\n        }\n      }, (response) => {\n        errorCb('timeout');\n      });\n  },\n\n};\n\n\n\n\n// WEBPACK FOOTER //\n// src/api/message.js","module.exports = \"\\n\\n<h1 class=\\\"page-header\\\">联系人</h1>\\n\\n<div class=\\\"panel panel-default\\\">\\n  <div class=\\\"panel-heading\\\">添加联系人</div>\\n  <div class=\\\"panel-body\\\">\\n    <form class=\\\"form-signin\\\" @submit.prevent=\\\"addNewFriend(inputEmail)\\\">\\n      <label for=\\\"inputEmail\\\" class=\\\"col-sm-2 sr-only\\\">Email</label>\\n      <input type=\\\"email\\\" class=\\\"form-control\\\" placeholder=\\\"Email\\\" maxLength=\\\"255\\\" required=\\\"\\\" v-model=\\\"inputEmail\\\">\\n      <p class=\\\"bg-danger\\\" v-show=\\\"reason != 'OK'\\\">{{ reason }}</p>\\n      <button class=\\\"btn btn-sm btn-success\\\" :disabled=\\\"!inputEmail || inputEmail == ''\\\" type=\\\"submit\\\">添加</button>\\n    </form>\\n  </div>\\n</div>\\n\\n<div class=\\\"panel panel-default\\\">\\n  <div class=\\\"panel-heading\\\">现有联系人</div>\\n\\n  <table class=\\\"table table-striped\\\">\\n    <thead>\\n      <tr>\\n        <th>Email</th>\\n        <th>未读消息数</th>\\n        <th>查看消息</th>\\n        <th>删除联系人</th>\\n      </tr>\\n    </thead>\\n\\n    <tbody>\\n      <tr v-for=\\\"f in friends\\\">\\n        <td>{{ f.friend_name }}</td>\\n        <td>{{ f.unread_msg_num }}</td>\\n        <td><button class=\\\"btn btn-sm btn-info\\\" v-on:click=\\\"readMessage(f)\\\">查看</button></td>\\n        <td><button class=\\\"btn btn-sm btn-danger\\\" v-on:click=\\\"deleteOldFriend(f)\\\">删除</button></td>\\n      </tr>\\n    </tbody>\\n  </table>\\n</div>\\n\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/friend/Friend.vue\n// module id = 26\n// module chunks = 0","var __vue_script__, __vue_template__\n__vue_script__ = require(\"-!babel-loader!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./Message.vue\")\n__vue_template__ = require(\"-!vue-html-loader!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./Message.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) { (typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __vue_template__ }\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/jacksome/Projects/direct-message/landing/templates/src/components/message/Message.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, __vue_template__)\n  }\n})()}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/message/Message.vue\n// module id = 27\n// module chunks = 0","<template>\n\n<h1 class=\"page-header\">私信</h1>\n<a class=\"btn btn-link\" v-link=\"{path: '/friend'}\">返回</a>\n\n<div class=\"panel panel-default\" v-if=\"friend\">\n  <div class=\"panel-heading\">联系人: {{ friend.friend_name }}\n    <button class=\"btn btn-sm btn-info\" v-on:click=\"refreshMessage()\">刷新</button>\n  </div>\n\n  <div class=\"panel-body\">\n    <div v-if=\"messages && messages.length > 0\">\n      <ul class=\"list-group\">\n        <li v-for=\"m in messages\" class=\"list-group-item\" :class=\"[ m.sender_id == account.id ? 'list-group-item-success' : '' ]\">\n          <p v-if=\"m.sender_id == account.id\">\n            <span class=\"label label-success\">{{ account.name }}</span> {{ m.content }} [{{ m.send_time }}]\n            <button class=\"btn btn-sm btn-link\" v-on:click=\"deleteMessage(m)\">删除</button>\n          </p>\n          <p v-else><span class=\"label label-warning\">{{ friend.friend_name }}</span> {{ m.content }} [{{ m.send_time }}]</p>\n        </li>\n      </ul>\n    </div>\n    <div v-else><p class=\"bg-warning\">无历史消息</p></div>\n\n    <form class=\"form-signin\" @submit.prevent=\"sendMessageToFriend(friend, inputContent)\">\n      <input type=\"text\" class=\"form-control\" placeholder=\"content\" maxLength=\"255\" required=\"\" autofocus=\"\" v-model=\"inputContent\">\n      <button class=\"btn btn-sm btn-success\" :disabled=\"!inputContent || inputContent == ''\" type=\"submit\">发送</button>\n    </form>\n\n  </div>\n</div>\n\n</template>\n\n<script>\n  import router from '../../router'\n  import { getAllMessages, getNewMessages, sendMessage, delMessage } from '../../store/message/actions'\n\n  export default {\n\n    data() {\n      return {\n        inputContent: null,\n      };\n    },\n\n    vuex: {\n      getters: {\n        account: ({ account }) => account.account,\n        friend: ({ message }) => message.friend,\n        messages: ({ message }) => message.all,\n      },\n\n      actions: {\n        getAllMessages,\n        getNewMessages,\n        sendMessage,\n        delMessage,\n\n        refreshMessage({ dispatch }) {\n          getAllMessages({ dispatch }, this.friend, () => {});\n        },\n\n        sendMessageToFriend({ dispatch }, f, content) {\n          sendMessage({ dispatch }, f.friend_id, content,\n              () => {this.inputContent = null},\n              () => {});\n        },\n\n        deleteMessage({ dispatch }, m) {\n          delMessage({ dispatch }, m, () => {});\n        },\n      },\n    },\n\n    created () {\n      if (!this.friend) {\n        router.go({ name: 'friend' });\n      }\n    },\n\n    ready() {\n      this.interval_messages = setInterval(() => {\n          this.getNewMessages(this.friend);\n          }, 5000)\n    },\n\n    beforeDestroy() {\n      clearInterval(this.interval_messages);\n    },\n\n  }\n</script>\n\n\n\n\n\n// WEBPACK FOOTER //\n// Message.vue?52bd8d96","module.exports = \"\\n\\n<h1 class=\\\"page-header\\\">私信</h1>\\n<a class=\\\"btn btn-link\\\" v-link=\\\"{path: '/friend'}\\\">返回</a>\\n\\n<div class=\\\"panel panel-default\\\" v-if=\\\"friend\\\">\\n  <div class=\\\"panel-heading\\\">联系人: {{ friend.friend_name }}\\n    <button class=\\\"btn btn-sm btn-info\\\" v-on:click=\\\"refreshMessage()\\\">刷新</button>\\n  </div>\\n\\n  <div class=\\\"panel-body\\\">\\n    <div v-if=\\\"messages && messages.length > 0\\\">\\n      <ul class=\\\"list-group\\\">\\n        <li v-for=\\\"m in messages\\\" class=\\\"list-group-item\\\" :class=\\\"[ m.sender_id == account.id ? 'list-group-item-success' : '' ]\\\">\\n          <p v-if=\\\"m.sender_id == account.id\\\">\\n            <span class=\\\"label label-success\\\">{{ account.name }}</span> {{ m.content }} [{{ m.send_time }}]\\n            <button class=\\\"btn btn-sm btn-link\\\" v-on:click=\\\"deleteMessage(m)\\\">删除</button>\\n          </p>\\n          <p v-else><span class=\\\"label label-warning\\\">{{ friend.friend_name }}</span> {{ m.content }} [{{ m.send_time }}]</p>\\n        </li>\\n      </ul>\\n    </div>\\n    <div v-else><p class=\\\"bg-warning\\\">无历史消息</p></div>\\n\\n    <form class=\\\"form-signin\\\" @submit.prevent=\\\"sendMessageToFriend(friend, inputContent)\\\">\\n      <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"content\\\" maxLength=\\\"255\\\" required=\\\"\\\" autofocus=\\\"\\\" v-model=\\\"inputContent\\\">\\n      <button class=\\\"btn btn-sm btn-success\\\" :disabled=\\\"!inputContent || inputContent == ''\\\" type=\\\"submit\\\">发送</button>\\n    </form>\\n\\n  </div>\\n</div>\\n\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/message/Message.vue\n// module id = 29\n// module chunks = 0","import Vue from 'vue';\nimport Vuex from 'vuex';\nVue.use(Vuex);\n\nimport account from './account/store';\nimport friend from './friend/store';\nimport message from './message/store';\n\nconst debug = process.env.NODE_ENV !== 'production';\nVue.config.debug = debug;\nexport default new Vuex.Store({\n  modules: {\n    account,\n    friend,\n    message,\n  },\n  strict: debug,\n  // middlewares: debug ? [createLogger()] : []\n});\n\n\n\n\n// WEBPACK FOOTER //\n// src/store/store.js","import Vue from 'vue';\n\nimport {\n  LOGIN,\n  LOGOUT,\n} from '../mutation-types'\n\n// initial state\nconst state = {\n  account: null,\n}\n\n// mutations\nconst mutations = {\n\n  [LOGIN] (state, account) {\n    state.account = account\n    console.log(\"login:\" + state.account.id + \"|\" + state.account.name)\n  },\n\n  [LOGOUT] (state) {\n    state.account = null\n  },\n\n}\n\nexport default {\n  state,\n  mutations\n}\n\n\n\n\n// WEBPACK FOOTER //\n// src/store/account/store.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/defineProperty.js\n// module id = 33\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/define-property.js\n// module id = 34\n// module chunks = 0","var $ = require('../../modules/$');\nmodule.exports = function defineProperty(it, key, desc){\n  return $.setDesc(it, key, desc);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/~/core-js/library/fn/object/define-property.js\n// module id = 35\n// module chunks = 0","var $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/~/core-js/library/modules/$.js\n// module id = 36\n// module chunks = 0","import Vue from 'vue';\n\nimport {\n  GET_FRIEND,\n  ADD_FRIEND,\n  DEL_FRIEND,\n  MOD_FRIEND,\n} from '../mutation-types'\n\n// initial state\nconst state = {\n  all: null,\n  last_ts: null,\n}\n\n// mutations\nconst mutations = {\n\n  [GET_FRIEND] (state, friends) {\n    state.all = friends;\n    state.all.sort(function (a, b) { return a.id - b.id });\n    for (var i in state.all) {\n      if (!state.last_ts || state.all[i].last_msg_time > state.last_ts) {\n        state.last_ts = state.all[i].last_msg_time;\n      }\n    }\n    console.log(\"get friends:\" + state.all.length);\n  },\n\n  [ADD_FRIEND] (state, newFriend) {\n    state.all.push(newFriend);\n    state.all.sort(function (a, b) { return a.id - b.id });\n    if (newFriend.last_msg_time > state.last_ts) {\n      state.last_ts = newFriend.last_msg_time\n    }\n    console.log(\"add friend:\" + newFriend.id);\n  },\n\n  [DEL_FRIEND] (state, oldFriend) {\n    console.log(\"delete friend:\" + oldFriend.id);\n    var i = state.all.findIndex((f) => f.id === oldFriend.id);\n    state.all.splice(i, 1);\n    state.all.sort(function (a, b) { return a.id - b.id });\n  },\n\n  [MOD_FRIEND] (state, friends, t) {\n    console.log(\"mod friends:\" + friends.length);\n    for (var i in friends) {\n      var r = state.all.findIndex((f) => f.id === friends[i].id);\n      if (r == -1) {\n        state.all.push(friends[i]);\n      } else {\n        state.all.splice(r, 1, friends[i])\n      }\n    }\n    state.all.sort(function (a, b) { return a.id - b.id });\n    for (var i in state.all) {\n      if (!state.last_ts || state.all[i].last_msg_time > state.last_ts) {\n        state.last_ts = state.all[i].last_msg_time;\n      }\n    }\n    if (t > state.last_ts) {\n      state.last_ts = t;\n    }\n  },\n\n}\n\nexport default {\n  state,\n  mutations\n}\n\n\n\n\n// WEBPACK FOOTER //\n// src/store/friend/store.js","import Vue from 'vue';\n\nimport {\n  GET_MESSAGE,\n  ADD_MESSAGE,\n  ADD_MULTI_MESSAGE,\n  DEL_MESSAGE,\n} from '../mutation-types'\n\n// initial state\nconst state = {\n  friend: null,\n  all: null,\n};\n\n// mutations\nconst mutations = {\n\n  [GET_MESSAGE] (state, friend, messages) {\n    state.friend = friend;\n    state.all = messages;\n    state.all.sort(function (a, b) { return b.id - a.id });\n    console.log(\"get messages:\" + state.all.length + \"|\" + friend.friend_name + \"|\" + friend.friend_id);\n  },\n\n  [ADD_MESSAGE] (state, newMessage) {\n    state.all.push(newMessage);\n    state.all.sort(function (a, b) { return b.id - a.id });\n    console.log(\"add message:\" + newMessage.id);\n  },\n\n  [ADD_MULTI_MESSAGE] (state, newMessages) {\n    for (var i in newMessages) {\n      state.all.push(newMessages[i]);\n    }\n    state.all.sort(function (a, b) { return b.id - a.id });\n    console.log(\"add multi message:\" + newMessages.length);\n  },\n\n  [DEL_MESSAGE] (state, oldMessage) {\n    console.log(\"delete message:\" + oldMessage.id + \"|\" + oldMessage.content);\n    var i = state.all.findIndex((m) => m.id === oldMessage.id)\n    state.all.splice(i, 1)\n    state.all.sort(function (a, b) { return b.id - a.id });\n  },\n\n}\n\nexport default {\n  state,\n  mutations\n}\n\n\n\n\n// WEBPACK FOOTER //\n// src/store/message/store.js","var __vue_script__, __vue_template__\nrequire(\"-!style!css!../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-9f54cfb8&file=Home.vue!autoprefixer!../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Home.vue\")\n__vue_script__ = require(\"-!babel-loader!../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./Home.vue\")\n__vue_template__ = require(\"-!vue-html-loader!../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./Home.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) { (typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __vue_template__ }\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/jacksome/Projects/direct-message/landing/templates/src/components/Home.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, __vue_template__)\n  }\n})()}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Home.vue\n// module id = 41\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-9f54cfb8&file=Home.vue!../../node_modules/autoprefixer-loader/index.js!../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Home.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-9f54cfb8&file=Home.vue!../../node_modules/autoprefixer-loader/index.js!../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Home.vue\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-9f54cfb8&file=Home.vue!../../node_modules/autoprefixer-loader/index.js!../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Home.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader!./~/css-loader!./~/vue-loader/lib/style-rewriter.js?id=_v-9f54cfb8&file=Home.vue!./~/autoprefixer-loader!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/Home.vue\n// module id = 42\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvY29tcG9uZW50cy9Ib21lLnZ1ZSJ9 */\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/vue-loader/lib/style-rewriter.js?id=_v-9f54cfb8&file=Home.vue!./~/autoprefixer-loader!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/Home.vue\n// module id = 43\n// module chunks = 0","<template>\n<div class=\"container-fluid\">\n  <div class=\"row\">\n\n    <div>\n    <!-- <div v-show=\"isLogin()\"> -->\n      <Navbar></Navbar>\n    </div>\n\n    <div class=\"col-sm-10 col-sm-offset-1 col-md-10 col-md-offset-1\">\n      <router-view></router-view>\n    </div>\n\n  </div>\n</div>\n</template>\n\n<script>\n  import router from '../router'\n  import store from '../store/store'\n  import Navbar from './Navbar'\n\n  export default {\n    store,\n\n    components:{\n      Navbar,\n    },\n\n    vuex: {\n      getters: {\n        account: ({ user }) => user.account,\n        path : ({ route }) => route.path,\n      },\n\n      actions: {\n      }\n    },\n\n    created () {\n    },\n\n    methods: {\n      isLogin() {\n        return this.path != '/' && this.path != '/register'\n      },\n\n    }\n  }\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Home.vue?01ef30bf","var __vue_script__, __vue_template__\nrequire(\"-!style!css!../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-239d30d6&file=Navbar.vue!autoprefixer!../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Navbar.vue\")\n__vue_script__ = require(\"-!babel-loader!../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./Navbar.vue\")\n__vue_template__ = require(\"-!vue-html-loader!../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./Navbar.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) { (typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __vue_template__ }\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/jacksome/Projects/direct-message/landing/templates/src/components/Navbar.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, __vue_template__)\n  }\n})()}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Navbar.vue\n// module id = 45\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-239d30d6&file=Navbar.vue!../../node_modules/autoprefixer-loader/index.js!../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Navbar.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-239d30d6&file=Navbar.vue!../../node_modules/autoprefixer-loader/index.js!../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Navbar.vue\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-239d30d6&file=Navbar.vue!../../node_modules/autoprefixer-loader/index.js!../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Navbar.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader!./~/css-loader!./~/vue-loader/lib/style-rewriter.js?id=_v-239d30d6&file=Navbar.vue!./~/autoprefixer-loader!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/Navbar.vue\n// module id = 46\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvY29tcG9uZW50cy9OYXZiYXIudnVlIn0= */\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/vue-loader/lib/style-rewriter.js?id=_v-239d30d6&file=Navbar.vue!./~/autoprefixer-loader!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/Navbar.vue\n// module id = 47\n// module chunks = 0","<template>\n\n<nav class=\"navbar navbar-default navbar-inverse navbar-fixed-top\">\n\n  <div class=\"container-fluid\" id=\"navUser\">\n    <div class=\"navbar-header\">\n      <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navbar\" aria-expanded=\"false\" aria-controls=\"navbar\">\n        <span class=\"sr-only\">Toggle navigation</span>\n        <span class=\"icon-bar\"></span>\n        <span class=\"icon-bar\"></span>\n        <span class=\"icon-bar\"></span>\n      </button>\n\n      <a class=\"navbar-brand\" href=\"/\">\n        <span class=\"glyphicon glyphicon-leaf\" aria-hidden=\"true\"> DirectMessage</span>\n      </a>\n    </div>\n\n    <div class=\"navbar-collapse collapse\" v-if=\"account\">\n      <ul class=\"nav navbar-nav navbar-right\">\n        <li role=\"presentation\" class=\"dropdown\">\n          <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\">\n            {{ account ? account.name : '' }} <span class=\"caret\"></span>\n          </a>\n          <ul class=\"dropdown-menu\" role=\"menu\">\n            <li><a v-link=\"{name: 'landing'}\" @click=\"userLogout()\">登出</a></li>\n          </ul>\n        </li>\n      </ul>\n\n    </div>\n  </div>\n\n</nav>\n\n</template>\n\n<script>\n  import router from '../router'\n  import { auth, logout } from '../store/account/actions'\n\n  export default {\n    vuex: {\n      getters: {\n        account : ({ account }) => account.account,\n      },\n\n      actions: {\n        auth,\n        logout,\n\n        autoLanding({ dispatch }) {\n          auth({ dispatch },\n              () => router.go({ name: 'friend' }),\n              () => router.go({ name: 'landing' }))\n        },\n\n        userLogout({ dispatch }) {\n          logout({ dispatch })\n        },\n\n      },\n    },\n\n    created () {\n      this.autoLanding();\n    },\n\n    methods: {\n    },\n  }\n\n</script>\n\n<style>\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// Navbar.vue?4e607e24","module.exports = \"\\n\\n<nav class=\\\"navbar navbar-default navbar-inverse navbar-fixed-top\\\">\\n\\n  <div class=\\\"container-fluid\\\" id=\\\"navUser\\\">\\n    <div class=\\\"navbar-header\\\">\\n      <button type=\\\"button\\\" class=\\\"navbar-toggle collapsed\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbar\\\" aria-expanded=\\\"false\\\" aria-controls=\\\"navbar\\\">\\n        <span class=\\\"sr-only\\\">Toggle navigation</span>\\n        <span class=\\\"icon-bar\\\"></span>\\n        <span class=\\\"icon-bar\\\"></span>\\n        <span class=\\\"icon-bar\\\"></span>\\n      </button>\\n\\n      <a class=\\\"navbar-brand\\\" href=\\\"/\\\">\\n        <span class=\\\"glyphicon glyphicon-leaf\\\" aria-hidden=\\\"true\\\"> DirectMessage</span>\\n      </a>\\n    </div>\\n\\n    <div class=\\\"navbar-collapse collapse\\\" v-if=\\\"account\\\">\\n      <ul class=\\\"nav navbar-nav navbar-right\\\">\\n        <li role=\\\"presentation\\\" class=\\\"dropdown\\\">\\n          <a class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\" href=\\\"#\\\">\\n            {{ account ? account.name : '' }} <span class=\\\"caret\\\"></span>\\n          </a>\\n          <ul class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n            <li><a v-link=\\\"{name: 'landing'}\\\" @click=\\\"userLogout()\\\">登出</a></li>\\n          </ul>\\n        </li>\\n      </ul>\\n\\n    </div>\\n  </div>\\n\\n</nav>\\n\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Navbar.vue\n// module id = 49\n// module chunks = 0","module.exports = \"\\n<div class=\\\"container-fluid\\\">\\n  <div class=\\\"row\\\">\\n\\n    <div>\\n    <!-- <div v-show=\\\"isLogin()\\\"> -->\\n      <Navbar></Navbar>\\n    </div>\\n\\n    <div class=\\\"col-sm-10 col-sm-offset-1 col-md-10 col-md-offset-1\\\">\\n      <router-view></router-view>\\n    </div>\\n\\n  </div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Home.vue\n// module id = 50\n// module chunks = 0"],"mappings":";;;;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;AAEA;AACA;;;AAAA;AACA;;;AAEA;AACA;;;;;AAPA;AACA;AAGA;AACA;AAEA;;;;;;;;;;;;ACVA;AACA;;;AAAA;AACA;;;;;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AAFA;AACA;AAlBA;AACA;AAuBA;AACA;AADA;AACA;AAGA;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtMA;AACA;;;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAIA;;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;;AAAA;AACA;;;AAGA;AACA;;;AAAA;AAGA;AACA;AACA;AACA;AACA;AAEA;AAXA;AAJA;AACA;AAVA;;;;;;;;;;;;;;;;;;;;ACzBA;AACA;;;AAAA;AACA;AADA;AACA;;;;;AAEA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;;;;;;;;;;;;;ACtCA;AACA;;;AAAA;AACA;;;;;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAlGA;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACVA;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACeA;AACA;;;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA;;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;;;;;AACA;;AADA;AACA;;AAKA;AACA;;AAAA;AACA;;;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAnBA;AALA;AACA;AA2BA;AAtCA;;;;;;;;;;;;;AC3BA;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC2BA;AACA;;;AAAA;AACA;AAAA;AACA;;;;AAIA;;AAEA;AACA;AAFA;AAKA;AACA;AACA;;;;;AACA;;;;AACA;;AAFA;AACA;;AAKA;AACA;AACA;AAEA;AACA;;AAAA;AACA;;;AAAA;AACA;AACA;AACA;AACA;AAEA;;AACA;AACA;AAAA;AAEA;;AACA;AACA;;AAAA;;AACA;AApBA;AANA;AACA;AA6BA;AACA;AAEA;;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAnDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjDA;AACA;;;AAAA;AACA;AADA;AACA;;;;;AAEA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAEA;;;;;;;;;;;;ACvCA;AACA;;;AAAA;AACA;;;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1DA;;;;;;;;;;;;;ACJA;AACA;;;AAAA;AACA;AADA;AACA;;;;;AAEA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AAGA;;;;;;;;;;;;AC7CA;AACA;;;AAAA;AACA;;;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3DA;;;;;;ACJA;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACmBA;AACA;;;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA;;AAEA;AADA;AAIA;AACA;AACA;;;;;AACA;;;;AACA;;;;AACA;;AAHA;AACA;;AAMA;AACA;AACA;AAEA;AACA;;AAAA;AACA;AAAA;AAEA;;AACA;AACA;;;AAAA;;AACA;AAGA;;AACA;AACA;AAAA;AACA;AAlBA;AAPA;AACA;AA4BA;AACA;AACA;AACA;AAEA;;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAnDA;;;;;;;;;;;ACxCA;;;;;;;;;;;;ACAA;AACA;;;AAAA;AACA;;;AAEA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;AALA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AANA;;;;;;;;;;;;;;;;;;;;ACVA;AACA;;;AACA;AACA;;;AAIA;AACA;AACA;AADA;AACA;AAGA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAFA;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACvBA;;;;;;ACAA;AACA;AACA;AACA;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACZA;AACA;;;AACA;AACA;;;AAMA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAFA;;;;;;;;;;;;;;;;;;ACpEA;AACA;;;AACA;AACA;;;AAMA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AACA;AAFA;;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACWA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;;AAIA;AACA;;AACA;AADA;AACA;;;;;AAKA;;;;AACA;;AAFA;AACA;AAIA;AANA;AACA;AASA;AACA;AACA;;AAEA;AACA;AAEA;AAJA;AApBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC+BA;AACA;;;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA;;AADA;AACA;;AAIA;AAEA;AACA;;AAAA;AACA;AAAA;AACA;;AACA;;AAEA;;AACA;AACA;AAAA;AAEA;AAbA;AALA;AACA;AAqBA;AACA;AAEA;AACA;AACA;AADA;AA3BA;AACA;;;;;;;;;;;;;AC3CA;;;;;;ACAA;;;","sourceRoot":""}